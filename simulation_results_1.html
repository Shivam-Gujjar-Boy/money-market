
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoneyMarket Simulation Results</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .chart-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        canvas {
            max-height: 400px;
        }
        .metrics {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .metrics h2 {
            margin-top: 0;
        }
        .metric-item {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        .metric-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <h1>MoneyMarket Simulation Results (156 Transactions)</h1>
    
    <div class="metrics">
        <h2>Final Aggregate Metrics</h2>
        <div class="metric-item"><strong>TVL:</strong> 6999.20 USD</div>
        <div class="metric-item"><strong>Total Debt:</strong> 11082.80 USD</div>
        <div class="metric-item"><strong>Avg Health Factor:</strong> 3.13</div>
        <div class="metric-item"><strong>Cumulative Liquidations:</strong> 0.00 USD</div>
        <div class="metric-item"><strong>Under-collateralized Debt:</strong> 0.00 USD</div>
    </div>

    <div class="chart-container">
        <canvas id="tvlChart"></canvas>
    </div>
    
    <div class="chart-container">
        <canvas id="debtChart"></canvas>
    </div>
    
    <div class="chart-container">
        <canvas id="hfChart"></canvas>
    </div>
    
    <div class="chart-container">
        <canvas id="liqChart"></canvas>
    </div>
    
    <div class="chart-container">
        <canvas id="underDebtChart"></canvas>
    </div>

    <script>
        const labels = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156];
        const tvlData = [0,6000,6000,9060,5707.8,2796.82,7085.28,7085.28,7085.28,7085.28,7085.28,12044.98,12044.98,12044.98,12044.98,6624.74,6624.74,6624.74,9407.13,10793.44,13275.94,23498.41,23498.41,23498.41,23498.41,23498.41,23498.41,23498.41,23498.41,23498.41,23498.41,34307.67,14066.15,23349.8,23349.8,27398.53,27398.53,27398.53,12329.34,12329.34,12329.34,5178.32,8388.88,5285,6369.68,6369.68,9363.43,9363.43,9363.43,9363.43,9363.43,6460.77,4393.32,7468.65,3734.32,2128.56,2128.56,2128.56,2128.56,1149.42,1149.42,1643.68,2892.87,2892.87,5149.31,5578.14,2844.85,3206.87,4393.42,6458.32,6841.84,6841.84,4241.94,2969.36,2969.36,3360.23,3918.61,3918.61,5055.01,5055.01,7531.97,11297.95,4745.14,7544.77,7544.77,12750.66,12750.66,21676.13,11705.11,6554.86,7924.79,12045.68,13370.77,23398.85,23398.85,23398.85,23398.85,23398.85,24129.3,24129.3,41261.11,25581.89,27541.67,27541.67,27541.67,27541.67,41863.34,69493.14,33356.71,36334.3,53048.08,54755.44,54755.44,54755.44,54755.44,54755.44,54755.44,54755.44,54755.44,58105.95,30215.09,30215.09,30215.09,30215.09,30215.09,13294.64,13294.64,13294.64,21670.27,9968.32,9968.32,13158.19,5921.18,6222.42,6469.05,6602.41,8186.99,8186.99,8186.99,10315.61,10315.61,10315.61,10315.61,10847,13992.63,13992.63,6576.54,11114.35,11114.35,11197.76,11197.76,16012.79,16012.79,6725.37,6999.2,6999.2];
        const debtData = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6255,6255,6255,6255,6255,6255,6255,6255,6255,6255,6255,6255,6255,6813,6813,6813,6813,6813,6813,6813,6813,6813,6489.36,6489.36,6489.36,6489.36,6489.36,6489.36,6489.36,6489.36,6489.36,6489.36,6489.36,6489.36,6489.36,6968.36,6968.36,6968.36,6968.36,6968.36,6968.36,6968.36,6968.36,6968.36,6968.36,6968.36,6968.36,6968.36,6862.9,6862.9,7084.9,7084.9,7084.9,7084.9,7084.9,7084.9,7084.9,7084.9,10536.9,10536.9,10536.9,11805.9,11805.9,11805.9,11805.9,11805.9,11805.9,11805.9,11805.9,9285.94,9285.94,9285.94,9285.94,9285.94,9285.94,9285.94,9285.94,9285.94,9285.94,9285.94,9285.94,9285.94,11417.94,11417.94,11417.94,11417.94,11417.94,11417.94,11417.94,11417.94,11338.02,11338.02,11338.02,11338.02,11338.02,11338.02,11338.02,11338.02,11338.02,11338.02,11338.02,11338.02,11338.02,11338.02,10778.8,10778.8,10778.8,10778.8,10778.8,10778.8,10778.8,10778.8,10778.8,10778.8,10778.8,10778.8,11082.8,11082.8,11082.8,11082.8];
        const hfData = [100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,1.41,1.41,0.63,0.63,0.63,0.27,0.43,0.27,0.27,0.27,0.4,0.4,0.4,1.34,1.34,0.93,0.63,1.07,0.54,0.31,0.31,0.31,0.66,0.36,0.36,0.51,0.9,0.9,1.61,2.34,1.19,1.19,1.63,2.4,2.4,2.01,1.24,0.87,0.87,0.87,0.87,0.87,1.12,1.12,1.67,2.51,1.05,1.68,2.72,4.6,4.59,7.81,4.22,2.36,2.36,3.59,3.59,6.28,5.29,5.29,5.29,4.67,4.69,4.69,8.02,4.97,4.97,4.97,4.97,5.61,8.53,14.16,6.8,7.11,10.38,12.15,12.15,12.15,12.15,12.15,12.15,12.15,10.83,11.63,6.05,6.05,6.05,6.05,6.05,2.66,4.83,4.83,7.88,3.62,3.62,4.78,2.15,2.15,2.73,3.04,3.77,3.77,3.77,4.75,5.07,5.07,5.07,5.19,6.7,6.7,3.15,5.32,5.32,5.35,5.35,7.65,7.45,3.13,3.13,3.13];
        const liqData = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
        const underDebtData = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

        const chartOptions = {
            responsive: true,
            maintainAspectRatio: true,
            scales: {
                y: { beginAtZero: true }
            }
        };

        new Chart(document.getElementById('tvlChart'), {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Total Value Locked (USD)',
                    data: tvlData,
                    borderColor: '#4CAF50',
                    backgroundColor: '#4CAF5020',
                    tension: 0.1
                }]
            },
            options: chartOptions
        });

        new Chart(document.getElementById('debtChart'), {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Total Outstanding Borrowings (USD)',
                    data: debtData,
                    borderColor: '#FF9800',
                    backgroundColor: '#FF980020',
                    tension: 0.1
                }]
            },
            options: chartOptions
        });

        new Chart(document.getElementById('hfChart'), {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Average Health Factor',
                    data: hfData,
                    borderColor: '#2196F3',
                    backgroundColor: '#2196F320',
                    tension: 0.1
                }]
            },
            options: chartOptions
        });

        new Chart(document.getElementById('liqChart'), {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Cumulative Liquidations (USD)',
                    data: liqData,
                    borderColor: '#F44336',
                    backgroundColor: '#F4433620',
                    tension: 0.1
                }]
            },
            options: chartOptions
        });

        new Chart(document.getElementById('underDebtChart'), {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Under-collateralized Debt (USD)',
                    data: underDebtData,
                    borderColor: '#9C27B0',
                    backgroundColor: '#9C27B020',
                    tension: 0.1
                }]
            },
            options: chartOptions
        });
    </script>
</body>
</html>
    